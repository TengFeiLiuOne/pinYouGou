<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>销售饼状图</title>
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">
    <link rel="stylesheet" href="../plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../plugins/adminLTE/css/AdminLTE.css">
    <link rel="stylesheet" href="../plugins/adminLTE/css/skins/_all-skins.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <script src="../plugins/jQuery/jquery-2.2.3.min.js"></script>
    <script src="../plugins/bootstrap/js/bootstrap.min.js"></script>
    <!-- 引入angular的js -->
    <script type="text/javascript" src="../plugins/angularjs/angular.min.js"></script>
    <!-- 引入分页相关的JS和CSS -->
    <script type="text/javascript" src="../plugins/angularjs/pagination.js"></script>
    <link rel="stylesheet" href="../plugins/angularjs/pagination.css">
    <!--引入模块-->
    <script type="text/javascript" src="../js/base_pagination.js"></script>
    <!--基础控制器,baseController-->
    <script type="text/javascript" src="../js/controller/baseController.js"></script>
    <!--引入brandController-->
    <script type="text/javascript" src="../js/controller/brandController.js"></script>
    <!--引入brandService-->
    <script type="text/javascript" src="../js/service/brandService.js"></script>
    <script type="text/javascript" src="../js/service/uploadService.js"></script>
    <!--引入echarts-->
    <script type="text/javascript" src="../plugins/echarts/echarts.min.js"></script>

</head>
<body class="hold-transition skin-red sidebar-mini" ng-app="pinyougou" ng-controller="Controller">
<!-- .box-body -->
<div class="box-header with-border">
    <h3 class="box-title">销售饼状图</h3>
</div>
<style type="text/css">
    .main{
        width: 100%;
        height:100%;
        position: absolute;
    }
    #main1{
        width: 50%;
        height: 50%;
        float: left;
    }
    #main2{
        width: 50%;
        height: 50%;
        float: right;
    }

</style>
<div class="modal-body">
    <table class="table table-bordered table-striped" width="800px">
        <tr>

            <td>商品分类</td>

            <td>
                <select class="form-control" ng-model="entity.categoryId"
                        ng-options="item.id as item.name for item in contentCategoryList"></select>
            </td>
            <td>
                <button class="button" id="button01" onclick="createPieChart()">生成饼状图</button>
            </td>

        </tr>
        <tr>
            <td>开始日期</td>
           <td>
               <input type="text" id="test1">
           </td>
            <td>结束日期</td>
            <td>
                <input type="text" id="test2">
            </td>

        </tr>

    </tr>


    </table>
</div>
<!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
<div class="main">
    <div id="main1" style="width: 600px;height:400px;"></div>
    <div id="main2" style="width: 600px;height:400px;"></div>
</div>

<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main1'));

    var data = genData(20);

    option = {
        title : {
            text: '销量分析',
            subtext: '按同一类商品不同品牌统计',
            x:'center'
        },//标题
        tooltip : {
            trigger: 'item',//触发类型，数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。
            formatter: "{a} <br/>{b} : {c} ({d}%)"//提示框浮层内容格式器，支持字符串模板和回调函数两种形式。
                                                  // {a}（系列名称），{b}（数据项名称），{c}（数值）, {d}（百分比）
        },//提示框，鼠标悬浮交互时的信息提示
        legend: {
            type: 'scroll',//可滚动翻页的图例
            orient: 'vertical',//图例列表的布局朝向
            right: 10,//图例组件离容器右侧的距离
            top: 20,//图例组件离容器上侧的距离
            bottom: 20,//图例组件离容器下侧的距离。
            data: data.legendData,//图例的数据数组。数组项通常为一个字符串，每一项代表一个系列的 name（如果是饼图，也可以是饼图单个数据的 name）

            selected: data.selected//图例选中状态表
        },//图例属性，用来说明饼状的每个扇区，data与下面series中的data相匹配
        series : [
            {
                name: '品牌名称',//tooltip提示框中显示的内容,legend 的图例筛选，在 setOption 更新数据和配置项时用于指定对应的系列
                type: 'pie',//图形类型，如饼状图、柱状图
                radius : '55%',//饼图的半径, string：例如，'55%'，表示外半径为可视区尺寸（容器高宽中较小一项）的 55% 长度。
                center: ['40%', '50%'],//饼图的中心（圆心）坐标，数组的第一项是横坐标，第二项是纵坐标。
                data: data.seriesData,//数据，系列中的数据内容数组。数组项可以为单个数值，如：[12, 34, 56, 10, 23]，
                                      // 更多时候我们需要指定每个数据项的名称，这时候需要每个项为一个对象：
                                      // [{// 数据项的名称  name: '数据1',//数据项值 value: 10 }, { name: '数据2',  value: 20 }]
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'//鼠标放在区域边框颜色
                    }//鼠标放在各个区域的样式
                }
            }
        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);


    function genData(count) {
        var nameList = [ ];
        var legendData = ['格力','海尔','容声','西门子'];
        var seriesData = [{name:'格力',value:'500'},{name:'海尔',value:'400'},{name:'容声',value:'600'},{name:'西门子',value:'800'}];
        var selected = {};
      /*  for (var i = 0; i < 20; i++) {
            name = Math.random() > 0.65
                ? makeWord(4, 1) + '·' + makeWord(3, 0)
                : makeWord(2, 1);
            legendData.push(name);
            seriesData.push({
                name: name,
                value: Math.round(Math.random() * 100000)
            });
            selected[name] = i < 6;
        }
*/
        return {
            legendData: legendData,
            seriesData: seriesData,
            selected: selected
        };

        /*function makeWord(max, min) {
            var nameLen = Math.ceil(Math.random() * max + min);
            var name = [];
            for (var i = 0; i < nameLen; i++) {
                name.push(nameList[Math.round(Math.random() * nameList.length - 1)]);
            }
            return name.join('');
        }*/
    }
</script>
<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main2'));

    var data = genData(50);

    option = {
        title : {
            text: '销售额分析',
            subtext: '按同一类商品不同品牌统计',
            x:'center'
        },
        tooltip : {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            type: 'scroll',
            orient: 'vertical',
            right: 10,
            top: 20,
            bottom: 20,
            data: data.legendData,

            selected: data.selected
        },
        series : [
            {
                name: '姓名',
                type: 'pie',
                radius : '55%',
                center: ['40%', '50%'],
                data: data.seriesData,
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);


    function genData(count) {
        var nameList = [
            '赵', '钱', '孙', '李', '周', '吴', '郑', '王', '冯', '陈', '褚', '卫', '蒋', '沈', '韩', '杨', '朱', '秦', '尤', '许', '何', '吕', '施', '张', '孔', '曹', '严', '华', '金', '魏', '陶', '姜', '戚', '谢', '邹', '喻', '柏', '水', '窦', '章', '云', '苏', '潘', '葛', '奚', '范', '彭', '郎', '鲁', '韦', '昌', '马', '苗', '凤', '花', '方', '俞', '任', '袁', '柳', '酆', '鲍', '史', '唐', '费', '廉', '岑', '薛', '雷', '贺', '倪', '汤', '滕', '殷', '罗', '毕', '郝', '邬', '安', '常', '乐', '于', '时', '傅', '皮', '卞', '齐', '康', '伍', '余', '元', '卜', '顾', '孟', '平', '黄', '和', '穆', '萧', '尹', '姚', '邵', '湛', '汪', '祁', '毛', '禹', '狄', '米', '贝', '明', '臧', '计', '伏', '成', '戴', '谈', '宋', '茅', '庞', '熊', '纪', '舒', '屈', '项', '祝', '董', '梁', '杜', '阮', '蓝', '闵', '席', '季', '麻', '强', '贾', '路', '娄', '危'
        ];
        var legendData = [];
        var seriesData = [];
        var selected = {};
        for (var i = 0; i < 50; i++) {
            name = Math.random() > 0.65
                ? makeWord(4, 1) + '·' + makeWord(3, 0)
                : makeWord(2, 1);
            legendData.push(name);
            seriesData.push({
                name: name,
                value: Math.round(Math.random() * 100000)
            });
            selected[name] = i < 6;
        }

        return {
            legendData: legendData,
            seriesData: seriesData,
            selected: selected
        };

        function makeWord(max, min) {
            var nameLen = Math.ceil(Math.random() * max + min);
            var name = [];
            for (var i = 0; i < nameLen; i++) {
                name.push(nameList[Math.round(Math.random() * nameList.length - 1)]);
            }
            return name.join('');
        }
    }
</script>
<script type="text/javascript" src="../plugins/laydate/laydate.js"></script>
<script >
    //执行一个laydate实例
    laydate.render({
        elem: '#test1' //指定元素
    });
    //执行一个laydate实例
    laydate.render({
        elem: '#test2' //指定元素
    });
</script>

</body>
</html>